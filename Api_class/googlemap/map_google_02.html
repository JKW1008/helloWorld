<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>google map2</title>
  </head>
  <body>
    <div id="map" style="width: 100%; height: 500px">지도가 들어가는 영역!</div>
    <script type="text/javaScript">
      function initMap() {
              const map = new google.maps.Map(document.getElementById("map"), {
                  zoom: 17,
                  center: { lat: 35.87575114995987, lng: 128.6813834116424 }, // 지도의 중심 좌표
              });

              // 마커 정보
              var locations = [
                  {testId: 'location01', lat: 35.87575114995987, lng: 128.6813834116424},
                  {testId: 'location02', lat: 35.87657269131543, lng: 128.68140392165563},
                  {testId: 'location03', lat: 35.87470941278895, lng: 128.67907570420968}
              ];

              // 마커 생성
              for (var i = 0; i < locations.length; i++) {
                  var mapIcon = new google.maps.MarkerImage("map_google_marker.png"); // 이미지 파일 경로를 설정해주면 다른 마커아이콘을 쓸 수 있음!
                  var marker = new google.maps.Marker({
                      map: map,
                      position: new google.maps.LatLng(locations[i].lat, locations[i].lng),
                      icon: mapIcon
                  });

                  google.maps.event.addListener(marker, 'click', (function(marker, i) {
                      return function() {
                          // 마커 클릭시 실행할 이벤트를 설정해줄 수 있다
                      alert(locations[i].testId);
                      }
                  })(marker, i));
              }
      }
    </script>
    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDvoF-GWajhV805O5SGS4ZYWpCJm_GLYD8&callback=initMap&libraries=&v=weekly"
      async
    ></script>
  </body>
</html>
